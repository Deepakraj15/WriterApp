<!DOCTYPE html>
<html>

<head>
    <title>Sign Up</title>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="signup.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif:wght@700&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        $(document).ready(() => {
            $("#uname").on('change', () => {
                var userName = $("#uname").val();
                var error = $("#error");
                if (!(userName.length >= 4)) {
                    setErrorTime();
                    error.text("Please enter a vaild Username");
                    $(event.target).css("border", "2px solid red");
                }
                else {
                    error.text('');
                    $(event.target).css("border", "0.7px solid black");
                }
            });
            $("#pass").on('change', () => {
                var password = $("#pass").val();
                var rpassword = $("#rpass").val();
                var error = $("#error");
                if (!(password.length >= 8 && rpassword.length >= 8 && password == undefined)) {
                    setErrorTime();
                    error.text("Password length must be greater than or equal to 8");
                    $(event.target).css("border", "2px solid red");
                    if (!(password === rpassword)) {
                        setErrorTime();
                        error.text("Passwords doesn't match");
                        $("#pass").css("border", "2px solid red");
                        $("rpass").css("border", "2px solid red");
                    }

                }
            });

            function setErrorTime() {
                var error = $("#error");
                setTimeout(() => {
                    error.css('display', 'block');
                }, 700)
                error.css('display', 'none');
                $("input").css("border", "0.7px solid black");

            }

        });


    </script>
</head>

<body>
    <nav>

        <a href="/"><img id="logo" src="feather-image.png" alt=""></a>
        <a href="/login" id="login">Login</a>
    </nav>
    <main>
        <h1>SIGNUP</h1>
        <form action="/register" method="post" id="form-create-user">

            <label>User Name<input type="text" id="uname" name="name" required></label>
            <label>Email<input type="text" id="email" name="email" required></label>
            <label>Password<input type="password" id="pass" name="password" required></label>
            <label>Re-enter Password<input type="password" id="rpass" name="rpassword" required></label>
            <p>Already have an account? <a href="login.html">Sign In</a></p>
            <p id="error"></p>
            <button>CREATE</button>
        </form>
    </main>
</body>

</html>